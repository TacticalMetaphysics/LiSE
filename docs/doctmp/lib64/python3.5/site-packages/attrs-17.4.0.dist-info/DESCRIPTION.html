
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
        <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>attrs: Classes Without Boilerplate &#8212; LiSE 0.9dev documentation</title>
    <link rel="stylesheet" href="../../../../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="../../../../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
   
  <link rel="stylesheet" href="../../../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <img alt="attrs Logo" src="http://www.attrs.org/en/latest/_static/attrs_logo.png" />
<div class="section" id="attrs-classes-without-boilerplate">
<h1><code class="docutils literal notranslate"><span class="pre">attrs</span></code>: Classes Without Boilerplate<a class="headerlink" href="#attrs-classes-without-boilerplate" title="Permalink to this headline">¶</a></h1>
<a class="reference external image-reference" href="http://www.attrs.org/en/stable/?badge=stable"><img alt="Documentation Status" src="https://readthedocs.org/projects/attrs/badge/?version=stable" /></a>
<a class="reference external image-reference" href="https://travis-ci.org/python-attrs/attrs"><img alt="CI Status" src="https://travis-ci.org/python-attrs/attrs.svg?branch=master" /></a>
<a class="reference external image-reference" href="https://codecov.io/github/python-attrs/attrs"><img alt="Test Coverage" src="https://codecov.io/github/python-attrs/attrs/branch/master/graph/badge.svg" /></a>
<p><code class="docutils literal notranslate"><span class="pre">attrs</span></code> is the Python package that will bring back the <strong>joy</strong> of <strong>writing classes</strong> by relieving you from the drudgery of implementing object protocols (aka <a class="reference external" href="https://nedbatchelder.com/blog/200605/dunder.html">dunder</a> methods).</p>
<p>Its main goal is to help you to write <strong>concise</strong> and <strong>correct</strong> software without slowing down your code.</p>
<p>For that, it gives you a class decorator and a way to declaratively define the attributes on that class:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">attr</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nd">@attr.s</span>
<span class="gp">... </span><span class="k">class</span> <span class="nc">SomeClass</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">a_number</span> <span class="o">=</span> <span class="n">attr</span><span class="o">.</span><span class="n">ib</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">list_of_numbers</span> <span class="o">=</span> <span class="n">attr</span><span class="o">.</span><span class="n">ib</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="n">attr</span><span class="o">.</span><span class="n">Factory</span><span class="p">(</span><span class="nb">list</span><span class="p">))</span>
<span class="gp">...</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">hard_math</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">another_number</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">a_number</span> <span class="o">+</span> <span class="nb">sum</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">list_of_numbers</span><span class="p">)</span> <span class="o">*</span> <span class="n">another_number</span>


<span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span> <span class="o">=</span> <span class="n">SomeClass</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span>
<span class="go">SomeClass(a_number=1, list_of_numbers=[1, 2, 3])</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span><span class="o">.</span><span class="n">hard_math</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">19</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span> <span class="o">==</span> <span class="n">SomeClass</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span> <span class="o">!=</span> <span class="n">SomeClass</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="go">True</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">attr</span><span class="o">.</span><span class="n">asdict</span><span class="p">(</span><span class="n">sc</span><span class="p">)</span>
<span class="go">{&#39;a_number&#39;: 1, &#39;list_of_numbers&#39;: [1, 2, 3]}</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">SomeClass</span><span class="p">()</span>
<span class="go">SomeClass(a_number=42, list_of_numbers=[])</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">C</span> <span class="o">=</span> <span class="n">attr</span><span class="o">.</span><span class="n">make_class</span><span class="p">(</span><span class="s2">&quot;C&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">C</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="s2">&quot;bar&quot;</span><span class="p">)</span>
<span class="go">C(a=&#39;foo&#39;, b=&#39;bar&#39;)</span>
</pre></div>
</div>
<p>After <em>declaring</em> your attributes <code class="docutils literal notranslate"><span class="pre">attrs</span></code> gives you:</p>
<ul class="simple">
<li>a concise and explicit overview of the class’s attributes,</li>
<li>a nice human-readable <code class="docutils literal notranslate"><span class="pre">__repr__</span></code>,</li>
<li>a complete set of comparison methods,</li>
<li>an initializer,</li>
<li>and much more,</li>
</ul>
<p><em>without</em> writing dull boilerplate code again and again and <em>without</em> runtime performance penalties.</p>
<p>This gives you the power to use actual classes with actual types in your code instead of confusing <code class="docutils literal notranslate"><span class="pre">tuple</span></code>s or <a class="reference external" href="http://www.attrs.org/en/stable/why.html#namedtuples">confusingly behaving</a> <code class="docutils literal notranslate"><span class="pre">namedtuple</span></code>s.
Which in turn encourages you to write <em>small classes</em> that do <a class="reference external" href="https://www.destroyallsoftware.com/talks/boundaries">one thing well</a>.
Never again violate the <a class="reference external" href="https://en.wikipedia.org/wiki/Single_responsibility_principle">single responsibility principle</a> just because implementing <code class="docutils literal notranslate"><span class="pre">__init__</span></code> et al is a painful drag.</p>
<div class="section" id="testimonials">
<h2>Testimonials<a class="headerlink" href="#testimonials" title="Permalink to this headline">¶</a></h2>
<p><strong>Amber Hawkie Brown</strong>, Twisted Release Manager and Computer Owl:</p>
<blockquote>
<div>Writing a fully-functional class using attrs takes me less time than writing this testimonial.</div></blockquote>
<p><strong>Glyph Lefkowitz</strong>, creator of <a class="reference external" href="https://twistedmatrix.com/">Twisted</a>, <a class="reference external" href="https://pypi.python.org/pypi/Automat">Automat</a>, and other open source software, in <a class="reference external" href="https://glyph.twistedmatrix.com/2016/08/attrs.html">The One Python Library Everyone Needs</a>:</p>
<blockquote>
<div>I’m looking forward to is being able to program in Python-with-attrs everywhere.
It exerts a subtle, but positive, design influence in all the codebases I’ve see it used in.</div></blockquote>
<p><strong>Kenneth Reitz</strong>, author of <a class="reference external" href="http://www.python-requests.org/">requests</a>, Python Overlord at Heroku, <a class="reference external" href="https://twitter.com/hynek/status/866817877650751488">on paper no less</a>:</p>
<blockquote>
<div>attrs—classes for humans.  I like it.</div></blockquote>
<p><strong>Łukasz Langa</strong>, prolific CPython core developer and Production Engineer at Facebook:</p>
<blockquote>
<div>I’m increasingly digging your attr.ocity. Good job!</div></blockquote>
</div>
<div class="section" id="getting-help">
<h2>Getting Help<a class="headerlink" href="#getting-help" title="Permalink to this headline">¶</a></h2>
<p>Please use the <code class="docutils literal notranslate"><span class="pre">python-attrs</span></code> tag on <a class="reference external" href="https://stackoverflow.com/questions/tagged/python-attrs">StackOverflow</a> to get help.</p>
<p>Answering questions of your fellow developers is also great way to help the project!</p>
</div>
<div class="section" id="project-information">
<h2>Project Information<a class="headerlink" href="#project-information" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">attrs</span></code> is released under the <a class="reference external" href="https://choosealicense.com/licenses/mit/">MIT</a> license,
its documentation lives at <a class="reference external" href="http://www.attrs.org/">Read the Docs</a>,
the code on <a class="reference external" href="https://github.com/python-attrs/attrs">GitHub</a>,
and the latest release on <a class="reference external" href="https://pypi.org/project/attrs/">PyPI</a>.
It’s rigorously tested on Python 2.7, 3.4+, and PyPy.</p>
<p>If you’d like to contribute you’re most welcome and we’ve written <a class="reference external" href="http://www.attrs.org/en/latest/contributing.html">a little guide</a> to get you started!</p>
</div>
<div class="section" id="release-information">
<h2>Release Information<a class="headerlink" href="#release-information" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1">
<h3>17.4.0 (2017-12-30)<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<div class="section" id="backward-incompatible-changes">
<h4>Backward-incompatible Changes<a class="headerlink" href="#backward-incompatible-changes" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">The traversal of MROs when using multiple inheritance was backward:
If you defined a class <code class="docutils literal notranslate"><span class="pre">C</span></code> that subclasses <code class="docutils literal notranslate"><span class="pre">A</span></code> and <code class="docutils literal notranslate"><span class="pre">B</span></code> like <code class="docutils literal notranslate"><span class="pre">C(A,</span> <span class="pre">B)</span></code>, <code class="docutils literal notranslate"><span class="pre">attrs</span></code> would have collected the attributes from <code class="docutils literal notranslate"><span class="pre">B</span></code> <em>before</em> those of <code class="docutils literal notranslate"><span class="pre">A</span></code>.</p>
<p>This is now fixed and means that in classes that employ multiple inheritance, the output of <code class="docutils literal notranslate"><span class="pre">__repr__</span></code> and the order of positional arguments in <code class="docutils literal notranslate"><span class="pre">__init__</span></code> changes.
Due to the nature of this bug, a proper deprecation cycle was unfortunately impossible.</p>
<p>Generally speaking, it’s advisable to prefer <code class="docutils literal notranslate"><span class="pre">kwargs</span></code>-based initialization anyways – <em>especially</em> if you employ multiple inheritance and diamond-shaped hierarchies.</p>
<p><a class="reference external" href="https://github.com/python-attrs/attrs/issues/298">#298</a>,
<a class="reference external" href="https://github.com/python-attrs/attrs/issues/299">#299</a>,
<a class="reference external" href="https://github.com/python-attrs/attrs/issues/304">#304</a></p>
</li>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">__repr__</span></code> set by <code class="docutils literal notranslate"><span class="pre">attrs</span></code>
no longer produces an <code class="docutils literal notranslate"><span class="pre">AttributeError</span></code>
when the instance is missing some of the specified attributes
(either through deleting
or after using <code class="docutils literal notranslate"><span class="pre">init=False</span></code> on some attributes).</p>
<p>This can break code
that relied on <code class="docutils literal notranslate"><span class="pre">repr(attr_cls_instance)</span></code> raising <code class="docutils literal notranslate"><span class="pre">AttributeError</span></code>
to check if any attr-specified members were unset.</p>
<p>If you were using this,
you can implement a custom method for checking this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">has_unset_members</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">attr</span><span class="o">.</span><span class="n">fields</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="kc">False</span>
</pre></div>
</div>
<p><a class="reference external" href="https://github.com/python-attrs/attrs/issues/308">#308</a></p>
</li>
</ul>
</div>
<div class="section" id="deprecations">
<h4>Deprecations<a class="headerlink" href="#deprecations" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">The <code class="docutils literal notranslate"><span class="pre">attr.ib(convert=callable)</span></code> option is now deprecated in favor of <code class="docutils literal notranslate"><span class="pre">attr.ib(converter=callable)</span></code>.</p>
<p>This is done to achieve consistency with other noun-based arguments like <em>validator</em>.</p>
<p><em>convert</em> will keep working until at least January 2019 while raising a <code class="docutils literal notranslate"><span class="pre">DeprecationWarning</span></code>.</p>
<p><a class="reference external" href="https://github.com/python-attrs/attrs/issues/307">#307</a></p>
</li>
</ul>
</div>
<div class="section" id="changes">
<h4>Changes<a class="headerlink" href="#changes" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">Generated <code class="docutils literal notranslate"><span class="pre">__hash__</span></code> methods now hash the class type along with the attribute values.
Until now the hashes of two classes with the same values were identical which was a bug.</p>
<p>The generated method is also <em>much</em> faster now.</p>
<p><a class="reference external" href="https://github.com/python-attrs/attrs/issues/261">#261</a>,
<a class="reference external" href="https://github.com/python-attrs/attrs/issues/295">#295</a>,
<a class="reference external" href="https://github.com/python-attrs/attrs/issues/296">#296</a></p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">attr.ib</span></code>’s <code class="docutils literal notranslate"><span class="pre">metadata</span></code> argument now defaults to a unique empty <code class="docutils literal notranslate"><span class="pre">dict</span></code> instance instead of sharing a common empty <code class="docutils literal notranslate"><span class="pre">dict</span></code> for all.
The singleton empty <code class="docutils literal notranslate"><span class="pre">dict</span></code> is still enforced.</p>
<p><a class="reference external" href="https://github.com/python-attrs/attrs/issues/280">#280</a></p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">ctypes</span></code> is optional now however if it’s missing, a bare <code class="docutils literal notranslate"><span class="pre">super()</span></code> will not work in slots classes.
This should only happen in special environments like Google App Engine.</p>
<p><a class="reference external" href="https://github.com/python-attrs/attrs/issues/284">#284</a>,
<a class="reference external" href="https://github.com/python-attrs/attrs/issues/286">#286</a></p>
</li>
<li><p class="first">The attribute redefinition feature introduced in 17.3.0 now takes into account if an attribute is redefined via multiple inheritance.
In that case, the definition that is closer to the base of the class hierarchy wins.</p>
<p><a class="reference external" href="https://github.com/python-attrs/attrs/issues/285">#285</a>,
<a class="reference external" href="https://github.com/python-attrs/attrs/issues/287">#287</a></p>
</li>
<li><p class="first">Subclasses of <code class="docutils literal notranslate"><span class="pre">auto_attribs=True</span></code> can be empty now.</p>
<p><a class="reference external" href="https://github.com/python-attrs/attrs/issues/291">#291</a>,
<a class="reference external" href="https://github.com/python-attrs/attrs/issues/292">#292</a></p>
</li>
<li><p class="first">Equality tests are <em>much</em> faster now.</p>
<p><a class="reference external" href="https://github.com/python-attrs/attrs/issues/306">#306</a></p>
</li>
<li><p class="first">All generated methods now have correct <code class="docutils literal notranslate"><span class="pre">__module__</span></code>, <code class="docutils literal notranslate"><span class="pre">__name__</span></code>, and (on Python 3) <code class="docutils literal notranslate"><span class="pre">__qualname__</span></code> attributes.</p>
<p><a class="reference external" href="https://github.com/python-attrs/attrs/issues/309">#309</a></p>
</li>
</ul>
<p><a class="reference external" href="http://www.attrs.org/en/stable/changelog.html">Full changelog</a>.</p>
</div>
</div>
</div>
<div class="section" id="credits">
<h2>Credits<a class="headerlink" href="#credits" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">attrs</span></code> is written and maintained by <a class="reference external" href="https://hynek.me/">Hynek Schlawack</a>.</p>
<p>The development is kindly supported by <a class="reference external" href="https://www.variomedia.de/">Variomedia AG</a>.</p>
<p>A full list of contributors can be found in <a class="reference external" href="https://github.com/python-attrs/attrs/graphs/contributors">GitHub’s overview</a>.</p>
<p>It’s the spiritual successor of <a class="reference external" href="https://characteristic.readthedocs.io/">characteristic</a> and aspires to fix some of it clunkiness and unfortunate decisions.
Both were inspired by Twisted’s <a class="reference external" href="https://twistedmatrix.com/documents/current/api/twisted.python.util.FancyEqMixin.html">FancyEqMixin</a> but both are implemented using class decorators because <a class="reference external" href="https://www.youtube.com/watch?v=3MNVP9-hglc">sub-classing is bad for you</a>, m’kay?</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../../../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#"><code class="docutils literal notranslate"><span class="pre">attrs</span></code>: Classes Without Boilerplate</a><ul>
<li><a class="reference internal" href="#testimonials">Testimonials</a></li>
<li><a class="reference internal" href="#getting-help">Getting Help</a></li>
<li><a class="reference internal" href="#project-information">Project Information</a></li>
<li><a class="reference internal" href="#release-information">Release Information</a><ul>
<li><a class="reference internal" href="#id1">17.4.0 (2017-12-30)</a><ul>
<li><a class="reference internal" href="#backward-incompatible-changes">Backward-incompatible Changes</a></li>
<li><a class="reference internal" href="#deprecations">Deprecations</a></li>
<li><a class="reference internal" href="#changes">Changes</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#credits">Credits</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../../../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../../../../_sources/doctmp/lib64/python3.5/site-packages/attrs-17.4.0.dist-info/DESCRIPTION.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Zachary Spector.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="../../../../../_sources/doctmp/lib64/python3.5/site-packages/attrs-17.4.0.dist-info/DESCRIPTION.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>